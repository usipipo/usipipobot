# =============================================================================
# uSipipo VPN Manager - Environment Configuration
# =============================================================================
# Copia este archivo como .env y configura los valores requeridos
# Los valores marcados con TU_... deben ser configurados manualmente
# =============================================================================

# =============================================================================
# TELEGRAM BOT CONFIGURATION (REQUIRED)
# =============================================================================
# Obtener TOKEN de @BotFather en Telegram
TELEGRAM_TOKEN=TU_TELEGRAM_BOT_TOKEN_AQUI
# Tu ID de usuario de Telegram (usar @userinfobot para obtenerlo)
ADMIN_ID=123456789
# IDs de usuarios autorizados (formato JSON array)
AUTHORIZED_USERS=[123456789]
# Username del bot (sin @)
BOT_USERNAME=tu_bot_username
# Límite de mensajes por minuto
TELEGRAM_RATE_LIMIT=30

# =============================================================================
# SERVER CONFIGURATION (REQUIRED)
# =============================================================================
# IP pública del servidor (auto-detectada por setup.sh)
SERVER_IP=192.168.1.100
SERVER_IPV4=192.168.1.100

# =============================================================================
# DATABASE CONFIGURATION (REQUIRED)
# =============================================================================
# URL de conexión PostgreSQL (auto-generada por setup.sh opción 4)
# Formato: postgresql+asyncpg://usuario:password@host:puerto/database
DATABASE_URL=postgresql+asyncpg://usipipo:tu_password_seguro@localhost:5432/usipipo
DB_POOL_SIZE=10
DB_TIMEOUT=30

# =============================================================================
# SECURITY CONFIGURATION (REQUIRED)
# =============================================================================
# Generar con: openssl rand -hex 32
SECRET_KEY=genera_con_openssl_rand_hex_32_aqui
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# =============================================================================
# API CONFIGURATION
# =============================================================================
API_HOST=0.0.0.0
API_PORT=8000
API_RATE_LIMIT=60
# Orígenes CORS permitidos (formato JSON array)
CORS_ORIGINS=["http://localhost:3000"]

# =============================================================================
# WIREGUARD VPN CONFIGURATION
# =============================================================================
# Interfaz WireGuard
WG_INTERFACE=wg0
# Puerto del servidor (debe estar abierto en firewall)
WG_SERVER_PORT=51820
# Claves generadas por setup.sh opción 3
WG_SERVER_PUBKEY=generada_por_setup_sh
WG_SERVER_PRIVKEY=generada_por_setup_sh
WG_PATH=/etc/wireguard
# Endpoint público para clientes
WG_ENDPOINT=tu-ip-publica:51820
WG_CLIENT_DNS_1=1.1.1.1

# =============================================================================
# OUTLINE VPN CONFIGURATION
# =============================================================================
# URL del API de Outline (generada por setup.sh opción 2)
OUTLINE_API_URL=https://tu-ip:puerto/api_key

# =============================================================================
# APPLICATION SETTINGS
# =============================================================================
APP_ENV=production
PROJECT_NAME=uSipipo VPN Manager
DEFAULT_LANG=es

# =============================================================================
# VPN KEY LIMITS
# =============================================================================
# Días de expiración de claves VPN (0 = sin expiración)
VPN_KEY_EXPIRE_DAYS=30
# Máximo de claves por usuario
MAX_KEYS_PER_USER=5

# =============================================================================
# PLAN CONFIGURATION
# =============================================================================
# Plan gratuito
FREE_PLAN_MAX_KEYS=2
FREE_PLAN_DATA_LIMIT_GB=10
# Plan VIP
VIP_PLAN_MAX_KEYS=10
VIP_PLAN_DATA_LIMIT_GB=50
VIP_PLAN_COST_STARS=10
BILLING_CYCLE_DAYS=30
KEY_CLEANUP_DAYS=90
REFERRAL_COMMISSION_PERCENT=10

# =============================================================================
# LOGGING & MONITORING
# =============================================================================
LOG_LEVEL=INFO
LOG_FILE_PATH=./logs/vpn_manager.log
ENABLE_METRICS=false

# =============================================================================
# PATHS & DIRECTORIES
# =============================================================================
TEMP_PATH=./temp
QR_CODE_PATH=./static/qr_codes
CLIENT_CONFIGS_PATH=./static/configs
